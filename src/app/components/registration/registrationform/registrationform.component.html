<div class="container">
  <div class="row">
    <div class="col-lg-12 col-md-12 col-sm-12">
      <div class="card">
        <div class="card-title">
          <h3 class="text-center">Registration Form</h3>
        </div>
        <div class="card-body">
          <form [formGroup]="registrationForm"
          (ngSubmit)="onRegistrationFormSubmit()">
            <div class="row">
              <div class="col-lg-6">
               <div class="form-group">
                  <label>
                     Firstname
                   </label>
                    <input type="text" class="form-control" formControlName="firstName">
                    <div class="errors" *ngIf="register('firstName')">
                      <div *ngIf="f.firstName.errors.required">
                        Firstname is required
                      </div>
                      <div *ngIf="f.firstName.errors.pattern">
                        Firstname should be in Alphabets
                      </div>
                  </div>
               </div>
               <div class="form-group">
                <label>
                   Lastname
                 </label>
                    <input type="text" class="form-control"
                    formControlName="lastName">
                    <div class="errors"*ngIf="register('lastName')">
                      <div *ngIf="f.lastName.errors.required">
                        Lastname is required
                      </div>
                      <div *ngIf="f.lastName.errors.pattern">
                      Lastname should be in Alphabets
                      </div>
                   </div>
               </div>
               <div class="form-group">
                <label>
                   Email
                 </label>
                    <input type="email" class="form-control"
                    formControlName="emailAddress">
                    <div class="errors" *ngIf="register('emailAddress')">
                      <div *ngIf="f.emailAddress.errors.required">Emailaddress is required</div>
                      <div *ngIf="f.emailAddress.errors.email">Emailaddress should be in @</div>
                    </div>
               </div>
               <div class="form-group">
                <label>
                   Dob
                 </label>
                    <input type="date" class="form-control"
                    formControlName="dob">
                    <div class="errors" *ngIf="register('dob')">
                      <div *ngIf="f.dob.errors.required">
                        Date Of Birth is required
                      </div>
                    </div>
               </div>
               <div class="form-group " formArrayName="phoneNumber">
                <label>
                  Phone:
                  </label>
                <div  *ngFor="let phone of phoneNumber.controls;let  i = index">
                  <input type="number" id="num" class="form-control"
                  [formControlName]=i placeholder=phone{{i}}>
                  <button mat-icon-button type="button" (click)="removePhoneArray()" color="warn" aria-label="Example icon button with a delete icon" *ngIf="removePhone">
                    <mat-icon>delete</mat-icon>
                  </button>
                  <label *ngIf="phone.invalid && number"class = "errors"> Phone Number is required.It should be in 10 Digits </label>
                </div>
                <button mat-raised-button type="button" (click)="addPhoneArray()" color="accent">Add Phone</button>
               </div>
              </div>
              <div class="col-lg-6">
                <div class="form-group">
                  <label>
                     Address
                   </label>
                      <textarea type="text" class="form-control" formControlName="address"></textarea>
                      <div class="errors" *ngIf="register('address')">
                        <div *ngIf="f.address.errors.required">Address is required</div>
                      </div>
                </div>
                <div class="form-group">
                <label>
                   Country
                 </label>
                    <select class="form-control"  formControlName="country" (change)="changeCountryForState()">
                      <option>India</option>
                      <option>Srilanka</option>
                      <option>Australia</option>
                      <option>South Africa</option>
                    </select>
                    <div class="errors" *ngIf="register('country')">
                      <div *ngIf="f.country.errors.required">Country is required</div>
                    </div>
                </div>
                <div class="form-group">
                  <label>
                     State
                   </label>
                      <select class="form-control"  formControlName="state">
                      <option></option>
                        <option *ngIf="states$">Andhra Pradesh</option>
                        <option *ngIf="states$">Ratnapura</option>
                        <option *ngIf="states$">Queensland</option>
                        <option *ngIf="states$">Cape Town</option>
                      </select>
                      <div class="errors" *ngIf="register('state')">
                        <div *ngIf="f.state.errors.required">State is required</div>
                      </div>
                </div>
                <div class="form-group">
                  <label>
                     Zip
                   </label>
                      <input type="number" class="form-control" formControlName="zip">
                      <div class="errors" *ngIf="register('zip')">
                        <div *ngIf="f.zip.errors.required">Zipcode is required</div>
                        <div *ngIf="f.zip.errors.pattern">Zipcode should be 6 digits</div>
                      </div>
                </div>
              </div>
            </div>
        <div class="card-footer">
          <div class="row">
            <div class="col-lg-6">
              <button type="button" class="btn btn-md btn-danger btn-block" (click)="onRegisterFormReset()">RESET</button>
            </div>
            <div class="col-lg-6">
              <button type="submit" class="btn btn-md btn-success  btn-block">SAVE</button>
            </div>
          </div>
        </div>
      </form>
      </div>
    </div>
  </div>
</div>

<div class="container">
  <div class="row">
    <div class="col-lg-12 col-md-12 col-sm-12">
      <h2 class="text-center"> Registered Users</h2>
      <div class="alert alert-danger"
        *ngIf="registerFormUsersList.length == 0">
        <h2 class="text-center">No Registered Users Yet</h2>
      </div>
    </div>
  </div>
</div>
<div class="container">
  <div class="row">
    <div class="col-lg-12 col-md-12 col-sm-12" *ngIf="registerFormUsersList.length > 0">
      <app-registrationusers [registerFormUsersList]="registerFormUsersList"></app-registrationusers>
    </div>
  </div>
</div>
